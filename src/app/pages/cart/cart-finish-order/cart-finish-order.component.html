<div class="order-form">

    <form [formGroup]="orderForm" (ngSubmit)="onSubmit()">
        <!-- Billing Information -->
        <div class="card mb-4 border-0 shadow-sm">
            <div class="card-body ">
                <div class="row g-3">
                    <div class="col-md-6">
                        <label for="firstName" class="form-label fw-medium">Krstné meno *</label>
                        <input type="text" class="form-control form-control-lg" id="firstName"
                            formControlName="firstName" placeholder="Vaše krstné meno">
                        <div class="invalid-feedback">
                            Krstné meno je povinné
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label for="lastName" class="form-label fw-medium">Priezvisko *</label>
                        <input type="text" class="form-control form-control-lg" id="lastName" formControlName="lastName"
                            placeholder="Vaše priezvisko">
                        <div class="invalid-feedback">
                            Priezvisko je povinné
                        </div>
                    </div>
                </div>

                <div class="form-check mt-3 p-3 bg-light rounded d-flex align-items-center">
                    <input class="form-check-input me-3 ms-0 mt-0" type="checkbox" id="isCompany"
                        formControlName="isCompany">
                    <label class="form-check-label fw-medium d-flex align-items-center mb-0" for="isCompany">
                        <i class="fas fa-building me-2"></i>
                        Fakturovať na firmu
                    </label>
                </div>

                <div *ngIf="orderForm.get('isCompany')?.value" class="mt-3 animate-in">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="companyName" class="form-label fw-medium">Názov spoločnosti *</label>
                            <input type="text" class="form-control form-control-lg" id="companyName"
                                formControlName="companyName" placeholder="Názov vašej spoločnosti">
                        </div>
                        <div class="col-md-6">
                            <label for="ico" class="form-label fw-medium">IČO *</label>
                            <input type="text" class="form-control form-control-lg" id="ico" formControlName="ico"
                                placeholder="12345678">
                        </div>
                        <div class="col-md-6">
                            <label for="dic" class="form-label fw-medium">DIČ</label>
                            <input type="text" class="form-control form-control-lg" id="dic" formControlName="dic"
                                placeholder="SK1234567890">
                        </div>
                        <div class="col-md-6">
                            <label for="icdph" class="form-label fw-medium">IČ DPH</label>
                            <input type="text" class="form-control form-control-lg" id="icdph" formControlName="icdph"
                                placeholder="SK1234567890">
                        </div>
                    </div>
                </div>

                <div class="row g-3 mt-3">
                    <div class="col-12">
                        <label for="street" class="form-label fw-medium">Ulica a číslo *</label>
                        <input type="text" class="form-control form-control-lg" id="street" formControlName="street"
                            placeholder="Číslo domu a názov ulice">
                        <div class="invalid-feedback">
                            Ulica a číslo je povinná
                        </div>
                    </div>
                </div>

                <div class="row g-3 mt-3">
                    <div class="col-md-4">
                        <label for="postalCode" class="form-label fw-medium">PSČ *</label>
                        <input type="text" class="form-control form-control-lg" id="postalCode"
                            formControlName="postalCode" placeholder="12345">
                        <div class="invalid-feedback">
                            PSČ je povinné
                        </div>
                    </div>
                    <div class="col-md-4">
                        <label for="city" class="form-label fw-medium">Mesto *</label>
                        <input type="text" class="form-control form-control-lg" id="city" formControlName="city"
                            placeholder="Vaše mesto">
                        <div class="invalid-feedback">
                            Mesto je povinné
                        </div>
                    </div>
                    <div class="col-md-4">
                        <label for="country" class="form-label fw-medium">Krajina / región *</label>
                        <select class="form-select form-select-lg" id="country" formControlName="country">
                            <option value="SK">Slovensko</option>
                            <option value="CZ">Česká republika</option>
                        </select>
                    </div>
                </div>

                <div class="row g-3 mt-3">
                    <div class="col-md-6">
                        <label for="phone" class="form-label fw-medium">Mobil *</label>
                        <input type="tel" class="form-control form-control-lg" id="phone" formControlName="phone"
                            placeholder="+421 900 123 456">
                        <div class="invalid-feedback">
                            Telefónne číslo je povinné
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label for="email" class="form-label fw-medium">Email *</label>
                        <input type="email" class="form-control form-control-lg" id="email" formControlName="email"
                            placeholder="vas.email@example.com">
                        <div class="invalid-feedback">
                            Platný email je povinný
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Shipping to Different Address -->
        <div class="card mb-4 border-0 shadow-sm">
            <div class="card-body p-4">
                <div class="form-check p-3 bg-light rounded d-flex align-items-center">
                    <input class="form-check-input me-3 mt-0 ms-0" type="checkbox" id="differentShipping"
                        formControlName="differentShipping">
                    <label class="form-check-label fw-medium d-flex align-items-center mb-0" for="differentShipping">
                        <i class="fas fa-truck me-2"></i>
                        Odoslať na inú adresu?
                    </label>
                </div>

                <div *ngIf="orderForm.get('differentShipping')?.value" class="mt-4 animate-in"
                    formGroupName="shippingAddress">
                    <h6 class="fw-bold text-primary mb-3">
                        <i class="fas fa-map-marker-alt me-2"></i>
                        Adresa doručenia
                    </h6>

                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="shippingFirstName" class="form-label fw-medium">Krstné meno *</label>
                            <input type="text" class="form-control form-control-lg" id="shippingFirstName"
                                formControlName="firstName" placeholder="Krstné meno príjemcu">
                        </div>
                        <div class="col-md-6">
                            <label for="shippingLastName" class="form-label fw-medium">Priezvisko *</label>
                            <input type="text" class="form-control form-control-lg" id="shippingLastName"
                                formControlName="lastName" placeholder="Priezvisko príjemcu">
                        </div>
                        <div class="col-12">
                            <label for="shippingCompany" class="form-label fw-medium">Názov spoločnosti</label>
                            <input type="text" class="form-control form-control-lg" id="shippingCompany"
                                formControlName="companyName" placeholder="Názov spoločnosti (voliteľné)">
                        </div>
                        <div class="col-12">
                            <label for="shippingStreet" class="form-label fw-medium">Ulica a číslo *</label>
                            <input type="text" class="form-control form-control-lg" id="shippingStreet"
                                formControlName="street" placeholder="Číslo domu a názov ulice">
                        </div>
                        <div class="col-md-4">
                            <label for="shippingPostalCode" class="form-label fw-medium">PSČ *</label>
                            <input type="text" class="form-control form-control-lg" id="shippingPostalCode"
                                formControlName="postalCode" placeholder="12345">
                        </div>
                        <div class="col-md-4">
                            <label for="shippingCity" class="form-label fw-medium">Mesto *</label>
                            <input type="text" class="form-control form-control-lg" id="shippingCity"
                                formControlName="city" placeholder="Mesto doručenia">
                        </div>
                        <div class="col-md-4">
                            <label for="shippingCountry" class="form-label fw-medium">Krajina / región *</label>
                            <select class="form-select form-select-lg" id="shippingCountry" formControlName="country">
                                <option value="SK">Slovensko</option>
                                <option value="CZ">Česká republika</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Order Notes -->
        <div class="card mb-4 border-0 shadow-sm">
            <div class="card-header ">
                <h6 class="mb-0 fw-semibold text-dark">
                    <i class="fas fa-sticky-note me-2"></i>
                    Poznámky k objednávke
                </h6>
            </div>
            <div class="card-body p-4">
                <textarea class="form-control" id="notes" formControlName="notes" rows="4"
                    placeholder="Poznámka k objednávke, napr. upresnenie pre doručenie."></textarea>
            </div>
        </div>

        <!-- Terms and Conditions -->
        <div class="card mb-4 border-0 shadow-sm">
            <div class="card-body p-4">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="acceptTerms" formControlName="acceptTerms"
                        [class.is-invalid]="isFieldInvalid('acceptTerms')">
                    <label class="form-check-label" for="acceptTerms">
                        Súhlasím s <a href="#" class="text-primary">obchodnými podmienkami</a> a
                        <a href="#" class="text-primary">zásadami ochrany osobných údajov</a> *
                    </label>
                    <div class="invalid-feedback" *ngIf="isFieldInvalid('acceptTerms')">
                        Musíte súhlasiť s obchodnými podmienkami
                    </div>
                </div>

                <div class="form-check mt-3">
                    <input class="form-check-input" type="checkbox" id="newsletter" formControlName="newsletter">
                    <label class="form-check-label" for="newsletter">
                        Chcem dostávať informácie o novinkách a akciách na email
                    </label>
                </div>
            </div>
        </div>
    </form>
</div>